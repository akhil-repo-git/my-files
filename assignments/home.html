<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .container
        {
            padding:20px;
            border:1px solid black;

        }
        h3,h4
        {
            padding: 0px;
            margin: none;

        }
        .right
        {
            float: right;
        }
        .clear{
            clear: both;
        }

        button{
            background-color: transparent;
            font-style: bold;
            padding: 5px;
            border: none;
            font-weight: 700;
            
        }

        .holder{
            margin:10px;
        }
        .btn{
            background-color: whitesmoke;
            border: 1px dashed wheat;
        }
    </style>
</head>
<body>

    <div class="container">
        

    

        <div class="right">
            <button>Home</button>
            <a href="signup.html"><button>Signup</button></a>
            <a href="login.html"><button>Login</button></a>
            
        </div>
        <div class="clear"></div>


        



    </div>


    <div class="holder">
        <div class="right">
            <button class="btn">Sort by rating low to high</button>
            <button class="btn">Sort by rating high to low</button>
            <button class="btn">Sort by year</button>
            
            
        </div>
        <div class="clear"></div>

    </div>
    <script>

        //carousel();
    function carousel()
        {
            
            var images =['https://images.unsplash.com/photo-1561424412-6c2125ecb1cc?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80','https://images.unsplash.com/photo-1533302229631-95b8bea33df3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80','https://images.unsplash.com/photo-1603080970010-0d3d19cce893?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=625&q=80','https://images.unsplash.com/photo-1506426235353-205ad887bb38?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=750&q=80','https://images.unsplash.com/photo-1546873503-ec55bf7926ef?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=667&q=80'];


            


            setInterval(function(){
                const rndInt = Math.floor(Math.random() * images.length-1)+1;       
                console.log(rndInt)         
                updateImage(images[rndInt]);
            },3000)



        }


        function updateImage(url)
        {
            console.log(url);


            if(document.getElementById("image")!=null)
                document.getElementById("image").remove();
            else 
            {
                console.log("Image not there");
            }    

            var image=document.createElement("img");
            image.style.width="100%";
            image.setAttribute("id","image")
            image.style.height="400px";
            image.src=url;
            image.onclick=function(event){
                console.log(event)
                window.open(url);
            }

            console.log(image);

        
            document.querySelector("body").appendChild(image);
        }

        loadMoviesData();
        createContainer();


        function loadMoviesData()
        {

            function movie(name,year,poster){
                    this.name=name;
                    this.year=year;
                    this.poster=poster;
            }

            var arr=[];
            var movie1 = new movie("The Shawshank Redemption ",1994,"https://m.media-amazon.com/images/M/MV5BMDFkYTc0MGEtZmNhMC00ZDIzLWFmNTEtODM1ZmRlYWMwMWFmXkEyXkFqcGdeQXVyMTMxODk2OTU@._V1_UX67_CR0,0,67,98_AL_.jpg");
            var movie2= new movie("The Godfather",1972,"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UY98_CR1,0,67,98_AL_.jpg");
            var movie3= new movie("The Dark Knight",2008,"https://m.media-amazon.com/images/M/MV5BMTMxNTMwODM0NF5BMl5BanBnXkFtZTcwODAyMTk2Mw@@._V1_UX67_CR0,0,67,98_AL_.jpg");
            var movie4= new movie("The Godfather: Part II ","1974","https://m.media-amazon.com/images/M/MV5BMWMwMGQzZTItY2JlNC00OWZiLWIyMDctNDk2ZDQ2YjRjMWQ0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UY98_CR1,0,67,98_AL_.jpg")
            var movie5= new movie("12 Angry Men ",1957,"https://m.media-amazon.com/images/M/MV5BMWU4N2FjNzYtNTVkNC00NzQ0LTg0MjAtYTJlMjFhNGUxZDFmXkEyXkFqcGdeQXVyNjc1NTYyMjg@._V1_UX67_CR0,0,67,98_AL_.jpg");
            var movie6= new movie("Pulp Fiction ",1994,"https://m.media-amazon.com/images/M/MV5BNGNhMDIzZTUtNTBlZi00MTRlLWFjM2ItYzViMjE3YzI5MjljXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_UY98_CR0,0,67,98_AL_.jpg");
            var movie7= new movie("Schindler's List",1993,"https://m.media-amazon.com/images/M/MV5BNDE4OTMxMTctNmRhYy00NWE2LTg3YzItYTk3M2UwOTU5Njg4XkEyXkFqcGdeQXVyNjU0OTQ0OTY@._V1_UX67_CR0,0,67,98_AL_.jpg");
            var movie8= new movie("Inception",2010,"https://m.media-amazon.com/images/M/MV5BMjAxMzY3NjcxNF5BMl5BanBnXkFtZTcwNTI5OTM0Mw@@._V1_UX67_CR0,0,67,98_AL_.jpg");
            var movie9=new movie("Forrest Gump",1994,"https://m.media-amazon.com/images/M/MV5BNWIwODRlZTUtY2U3ZS00Yzg1LWJhNzYtMmZiYmEyNmU1NjMzXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_UY98_CR0,0,67,98_AL_.jpg");
            arr.push(movie1);
            arr.push(movie2);
            arr.push(movie3);
            arr.push(movie4);
            arr.push(movie5);
            arr.push(movie6);
            arr.push(movie7);
            arr.push(movie8);
            arr.push(movie9);


            localStorage.setItem('movies',JSON.stringify(arr));            
        }


        function createContainer()
        {
            var main_div= document.createElement("div");
            main_div.style.display="grid";
            main_div.setAttribute("class","container")
            //main_div.style.gridTemplateColumns="30px 30px 30px";
            main_div.style.gridTemplateColumns="auto auto auto";
            main_div.style.gridGap="10px";

            var movies=JSON.parse(localStorage.getItem('movies'));

            //console.log(movies);
            console.log(movies.sort((a,b)=>{
                return a.year - b.year;
            }));
            movies.forEach(movie=> {
                
                var div = document.createElement("div");
                div.style.display="flex";
                div.style.flexDirection="column"
                var image = document.createElement("img");
                image.src=movie.poster;
                image.style.width="100px";
                image.style.height="100px";
                var h3 = document.createElement("h3");
                h3.style.margin="none";
                h3.textContent=movie.name;
                var h4 = document.createElement("h4");
                h4.textContent=movie.year;
                h4.style.margin="none";
                div.append(image,h3,h4);

                main_div.append(div);
                

            });
            document.querySelector("body").append(main_div);
            
            
        }


        
    </script>

</body>
</html>